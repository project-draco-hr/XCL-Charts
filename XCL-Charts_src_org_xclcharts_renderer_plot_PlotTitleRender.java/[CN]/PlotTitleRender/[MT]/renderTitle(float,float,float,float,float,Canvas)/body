{
  int titleHeight=0;
  int subtitleHeight=0;
  int totalHeight=0;
  float titleInitY=0.0f;
  float titleX=0.0f;
  float titleY=0.0f;
  float subtitleX=0.0f;
  float subtitleY=0.0f;
  if (this.getTitle().length() == 0 && getSubtitle().length() == 0)   return;
  if (getTitle().length() > 0) {
    titleHeight=DrawHelper.getInstance().getPaintFontHeight(getTitlePaint());
  }
  if (getTitle().length() > 0) {
    subtitleHeight=DrawHelper.getInstance().getPaintFontHeight(getSubtitlePaint());
  }
  totalHeight=titleHeight + subtitleHeight;
  float pcHeight=Math.abs(plotTop - chartTop);
switch (this.getVerticalAlign()) {
case TOP:
    titleInitY=chartTop + titleHeight;
  break;
case MIDDLE:
titleInitY=Math.round(chartTop + pcHeight / 2 - totalHeight / 2);
break;
case BOTTOM:
titleInitY=plotTop - titleHeight;
break;
}
switch (this.getTitleAlign()) {
case LEFT:
titleX=chartLeft;
titleY=titleInitY;
subtitleX=chartLeft;
subtitleY=titleY + subtitleHeight;
getTitlePaint().setTextAlign(Align.LEFT);
getSubtitlePaint().setTextAlign(Align.LEFT);
break;
case CENTER:
titleX=(float)Math.round(chartLeft + chartWidth / 2);
titleY=titleInitY;
subtitleX=titleX;
subtitleY=(float)(titleY + subtitleHeight);
getTitlePaint().setTextAlign(Align.CENTER);
getSubtitlePaint().setTextAlign(Align.CENTER);
break;
case RIGHT:
titleX=chartRight;
titleY=titleInitY;
subtitleX=titleX;
subtitleY=titleY + subtitleHeight;
getTitlePaint().setTextAlign(Align.RIGHT);
getSubtitlePaint().setTextAlign(Align.RIGHT);
break;
}
if (getTitle().length() > 0) {
canvas.drawText(getTitle(),titleX,titleY,this.getTitlePaint());
}
if (getSubtitle().length() > 0) {
canvas.drawText(getSubtitle(),subtitleX,subtitleY,this.getSubtitlePaint());
}
}
