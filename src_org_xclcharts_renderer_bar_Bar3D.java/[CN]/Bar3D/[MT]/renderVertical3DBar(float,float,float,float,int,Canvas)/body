{
  int lightColor=mDrawHelper.getLightColor(color,mAlpha);
  mPaintBar.setColor(color);
  mPaint3D.setColor(lightColor);
  double offsetX=getOffsetX();
  double offsetY=getOffsetY();
  float barLeft2=Math.round(barLeft - offsetX);
  float barTop2=Math.round(barTop + offsetY);
  float barRight2=Math.round(barRight - offsetX);
  float barBottom2=Math.round(barBottom + offsetY);
  Path pRectangle2D=new Path();
  pRectangle2D.moveTo(barLeft,barTop);
  pRectangle2D.lineTo(barLeft2,barTop2);
  pRectangle2D.lineTo(barRight2,barTop2);
  pRectangle2D.lineTo(barRight,barTop);
  pRectangle2D.close();
  canvas.drawPath(pRectangle2D,mPaintBar);
  pRectangle2D.reset();
  pRectangle2D.moveTo(barRight,barTop);
  pRectangle2D.lineTo(barRight2,barTop2);
  pRectangle2D.lineTo(barRight2,barBottom2);
  pRectangle2D.lineTo(barRight,barBottom);
  pRectangle2D.close();
  canvas.drawPath(pRectangle2D,mPaintBar);
  pRectangle2D.reset();
  pRectangle2D.moveTo(barRight2,barTop2);
  pRectangle2D.lineTo(barRight2,barBottom2);
  pRectangle2D.lineTo(barLeft2,barBottom2);
  pRectangle2D.lineTo(barLeft2,barTop2);
  pRectangle2D.close();
  LinearGradient linearGradient=new LinearGradient(barLeft2,barBottom2,barRight2,barBottom2,new int[]{color,lightColor},null,Shader.TileMode.REPEAT);
  mPaint3D.setShader(linearGradient);
  mPaint3D.setStyle(Style.FILL);
  canvas.drawPath(pRectangle2D,mPaint3D);
  Paint paintTopStroke=new Paint();
  paintTopStroke.setStyle(Style.STROKE);
  paintTopStroke.setColor(Color.WHITE);
  pRectangle2D.reset();
  pRectangle2D.moveTo(barLeft2,barTop2);
  pRectangle2D.lineTo(barRight2,barTop2);
  pRectangle2D.lineTo(barRight,barTop);
  canvas.drawPath(pRectangle2D,paintTopStroke);
  canvas.drawLine(barRight2,barTop2,barRight2,barBottom2,paintTopStroke);
}
