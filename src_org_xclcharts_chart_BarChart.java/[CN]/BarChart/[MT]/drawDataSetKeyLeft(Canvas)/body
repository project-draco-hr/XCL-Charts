{
  DrawHelper dw=new DrawHelper();
  float keyTextHeight=dw.getPaintFontHeight(this.getPlotDataSetKeyPaint());
  float keyLabelsX=this.plotArea.getPlotLeft();
  float keyLabelsY=this.plotArea.getPlotTop() - keyTextHeight;
  float rectWidth=2 * keyTextHeight;
  float rectHeight=keyTextHeight;
  float rectOffset=getPlotDataSetKeyMargin();
  getPlotDataSetKeyPaint().setTextAlign(Align.LEFT);
  for (  BarData cData : mDataSet) {
    String key=cData.getKey();
    getPlotDataSetKeyPaint().setColor(cData.getColor());
    float strWidth=getPlotDataSetKeyPaint().measureText(key,0,key.length());
    if (keyLabelsX + 2 * rectWidth + strWidth > this.getChartRight()) {
      keyLabelsX=this.plotArea.getPlotLeft();
      keyLabelsY=keyLabelsY + rectHeight * 2;
    }
    canvas.drawRect(keyLabelsX,keyLabelsY,keyLabelsX + rectWidth,keyLabelsY - rectHeight,getPlotDataSetKeyPaint());
    getPlotDataSetKeyPaint().setTextAlign(Align.LEFT);
    dw.drawRotateText(key,keyLabelsX + rectWidth + rectOffset,keyLabelsY,0,canvas,getPlotDataSetKeyPaint());
    keyLabelsX+=rectWidth + strWidth + 2 * rectOffset;
  }
}
