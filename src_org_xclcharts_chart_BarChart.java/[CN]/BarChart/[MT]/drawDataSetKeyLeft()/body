{
  DrawHelper dw=new DrawHelper();
  float keyTextHeight=dw.getPaintFontHeight(this.getPlotDataSetKeyPaint());
  float keyLablesX=this.plotArea.getPlotLeft();
  float keyLablesY=this.plotArea.getPlotTop() - keyTextHeight;
  float rectWidth=2 * keyTextHeight;
  float rectHeight=keyTextHeight;
  float rectOffset=getPlotDataSetKeyMargin();
  getPlotDataSetKeyPaint().setTextAlign(Align.LEFT);
  for (  BarData cData : mDataSet) {
    String key=cData.getKey();
    getPlotDataSetKeyPaint().setColor(cData.getColor());
    float strWidth=getPlotDataSetKeyPaint().measureText(key,0,key.length());
    if (keyLablesX + 2 * rectWidth + strWidth > this.getChartRight()) {
      keyLablesX=this.plotArea.getPlotLeft();
      keyLablesY=keyLablesY + rectHeight * 2;
    }
    mCanvas.drawRect(keyLablesX,keyLablesY,keyLablesX + rectWidth,keyLablesY - rectHeight,getPlotDataSetKeyPaint());
    getPlotDataSetKeyPaint().setTextAlign(Align.LEFT);
    dw.drawRotateText(key,keyLablesX + rectWidth + rectOffset,keyLablesY,0,this.mCanvas,getPlotDataSetKeyPaint());
    keyLablesX+=rectWidth + strWidth + 2 * rectOffset;
  }
}
