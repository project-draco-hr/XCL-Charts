{
  if (isShowLegend() == false)   return;
  if (null == dataSet)   return;
  if (null == mPlotArea)   mPlotArea=mXChart.getPlotArea();
  float textHeight=DrawHelper.getInstance().getPaintFontHeight(getLegendLabelPaint());
  float rectWidth=2 * textHeight;
  float currentX=0.0f;
  float currentY=0.0f;
  getLegendLabelPaint().setTextAlign(Align.LEFT);
  currentX=mPlotArea.getLeft();
  currentY=mPlotArea.getTop() - 5;
  float totalTextWidth=0.0f;
  for (  LnData cData : dataSet) {
    String key=cData.getLineKey();
    if ("" == key)     continue;
    getLegendLabelPaint().setColor(cData.getLineColor());
    float keyTextWidth=DrawHelper.getInstance().getTextWidth(getLegendLabelPaint(),key);
    totalTextWidth=MathHelper.getInstance().add(totalTextWidth,keyTextWidth);
    if (totalTextWidth > mPlotArea.getWidth()) {
      currentY-=textHeight;
      currentX=mPlotArea.getLeft();
      totalTextWidth=0.0f;
    }
    canvas.drawLine(currentX,currentY - textHeight / 2,currentX + rectWidth,currentY - textHeight / 2,getLegendLabelPaint());
    canvas.drawText(cData.getLineKey(),currentX + rectWidth,currentY - textHeight / 3,getLegendLabelPaint());
    float dotLeft=currentX + rectWidth / 4;
    float dotRight=currentX + 2 * (rectWidth / 4);
    PlotLine pLine=cData.getPlotLine();
    if (!pLine.getDotStyle().equals(XEnum.DotStyle.HIDE)) {
      PlotDot pDot=pLine.getPlotDot();
      PlotDotRender.getInstance().renderDot(canvas,pDot,dotLeft,currentY,dotRight,currentY - textHeight / 2,pLine.getDotPaint());
    }
    currentX=MathHelper.getInstance().add(currentX,rectWidth + 10);
    currentX=MathHelper.getInstance().add(currentX,keyTextWidth);
  }
}
