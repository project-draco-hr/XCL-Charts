{
  if (null == mDataSet)   return false;
  List<String> dataSet=categoryAxis.getDataSet();
  if (null == dataSet)   return false;
  float axisScreenHeight=getPlotScreenHeight();
  float axisDataHeight=(float)dataAxis.getAxisRange();
  float XSteps=getVerticalXSteps(dataSet.size() + 1);
  int barNumber=getDatasetSize(mDataSet);
  int currNumber=0;
  float[] ret=mFlatBar.getBarWidthAndMargin(XSteps,barNumber);
  if (null == ret || ret.length != 2) {
    Log.e(TAG,"????????????????????????.");
    return false;
  }
  float barWidth=ret[0];
  float barInnerMargin=ret[1];
  float labelBarUseWidth=add(mul(barNumber,barWidth),mul(sub(barNumber,1),barInnerMargin));
  int size=mDataSet.size();
  for (int i=0; i < size; i++) {
    BarData bd=mDataSet.get(i);
    List<Double> barValues=bd.getDataSet();
    if (null == barValues)     continue;
    List<Integer> barDataColor=bd.getDataColor();
    int barDefualtColor=bd.getColor();
    mFlatBar.getBarPaint().setColor(barDefualtColor);
    int countChild=barValues.size();
    for (int j=0; j < countChild; j++) {
      Double bv=barValues.get(j);
      setBarDataColor(mFlatBar.getBarPaint(),barDataColor,j,barDefualtColor);
      float vaxlen=(float)MathHelper.getInstance().sub(bv,dataAxis.getAxisMin());
      float valuePostion=mul(axisScreenHeight,div(vaxlen,axisDataHeight));
      float currLableX=add(plotArea.getLeft(),mul((j + 1),XSteps));
      float drawBarStartX=sub(currLableX,labelBarUseWidth / 2);
      drawBarStartX=add(drawBarStartX,add(barWidth,barInnerMargin) * currNumber);
      float drawBarEndX=add(drawBarStartX,barWidth);
      float topY=sub(plotArea.getBottom(),valuePostion);
      mFlatBar.renderBar(drawBarStartX,topY,drawBarEndX,plotArea.getBottom(),canvas);
      saveBarRectFRecord(i,j,drawBarStartX + mMoveX,topY + mMoveY,drawBarEndX + mMoveX,plotArea.getBottom() + mMoveY);
      drawFocusRect(canvas,i,j,drawBarStartX,topY,drawBarEndX,plotArea.getBottom());
      mFlatBar.renderBarItemLabel(getFormatterItemLabel(bv),add(drawBarStartX,barWidth / 2),sub(plotArea.getBottom(),valuePostion),canvas);
    }
    currNumber++;
  }
  if (null != mCustomLine) {
    mCustomLine.setVerticalPlot(dataAxis,plotArea,getAxisScreenHeight());
    mCustomLine.renderVerticalCustomlinesDataAxis(canvas);
  }
  return true;
}
